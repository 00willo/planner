2004-10-10  Alvaro del Castillo <acs@barrapunto.com>
	* eds-backend/docs/Work-alfa8
	All work finished for this milestone.

2004-10-10  Alvaro del Castillo <acs@barrapunto.com>
	* src/planner-sql-plugin.c:
	We don't need to check for upgrade files if the tables don't
	exist in the database.

2004-10-09  Richard Hult  <richard@imendio.com>

	* data/stylesheets/Makefile.am:
	* data/stylesheets/html1_css.xsl:
	* data/stylesheets/html1_gantt.xsl:
	* data/stylesheets/html1_resources.xsl:
	* data/stylesheets/html1_tasks.xsl:
	* data/stylesheets/planner2html.xsl:
	* libplanner/mrp-xsl.c: Clean up the HTML export stylesheet, tweak
	the style a bit, put the header fields in a table. Make the note
	text sections wrap and always show at least 30 days in the gantt
	chart.

2004-10-09  Richard Hult  <richard@imendio.com>

	* data/stylesheets/html1_tasks.xsl: Set note class for notes.

	* data/stylesheets/html1_css.xsl: Add top/bottom margins for the
	gantt bars. Align table cell contents at the top, wrap long
	notes. Reduce font size for footer.

2004-10-08  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-time.c (mrp_time_debug_print): Fix typo.

2004-10-08  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-header.c (gantt_header_leave_notify_event)
	(gantt_header_motion_notify_event, gantt_header_class_init): Add
	date-hint signal and emit it when the mouse moves over a new date.

	* src/planner-gantt-chart.c (gantt_chart_init):
	(gantt_chart_header_date_hint_changed_cb): Put the date hint on
	the status bar.

2004-10-06  Richard Hult  <richard@imendio.com>

	* src/planner-task-tree.c (planner_task_tree_insert_task): Select
	the inserted task, not the parent. Fixes bug #151729.
	(planner_task_tree_insert_subtask): Likewise.

	* tests/Makefile.am: Don't add the tests to make check since the
	loadable modules aren't found when doing distcheck. We should fix
	this for real at some point instead of disabling the automatic
	testing.

	* data/images/Makefile.am: Rename the mime icon for the new mime
	system, install in the right spot.
	
	* data/mime/planner.keys.in: Mark for translation, patch from
	Takao.Fujiwara@Sun.COM. Use the new name for the mime icon.

2004-10-06  Richard Hult  <richard@imendio.com>

	* data/stylesheets/html1_css.xsl:
	* data/stylesheets/html1_gantt.xsl:
	* data/stylesheets/mrproject2html.xsl: Tweak milestone style
	slightly and make gantt bars not wrap, fixes bug #154572.

	* libplanner/mrp-parser.c (mrp_parser_to_xml): Fix compilation
	problem on Darwin.

	* configure.in: Clean up a bit.

2004-10-05  Amanpreet Singh Alam <amanpreetalam@yahoo.com>
	
	* configure.in: Add Punjabi(pa) Lang

2004-10-05  Richard Hult  <richard@imendio.com>

	* Update copyrights.

	* src/planner-task-tree.c: (task_cmd_save_assignments),
	(task_cmd_restore_assignments), (task_cmd_save_relations),
	(task_cmd_restore_relations), (task_cmd_save_children),
	(task_cmd_move_do), (task_cmd_move_undo), (task_cmd_move_free),
	(task_cmd_move), (planner_task_tree_indent_task),
	(planner_task_tree_unindent_task),
	(planner_task_tree_move_task_up),
	(planner_task_tree_move_task_down): Clean up undo code, remove
	debugging output and fix bug #151731, restore duration of parent
	task when undoing indent.

2004-10-04  Richard Hult  <richard@imendio.com>

	* src/planner-ttable-view.c: (ttable_view_create_widget),
	(ttable_view_update_row_and_header_height), (idle_update_heights),
	(ttable_view_tree_style_set_cb), (ttable_view_project_loaded_cb):
	Resize header and row heights when the style changes, fixes bug
	#151602.

2004-10-04  Richard Hult  <richard@imendio.com>

	* src/planner-window.c (window_open_cb): Add file filters, fixes
	bug #149357.

	* src/planner-cmd-manager.c: (cmd_manager_init),
	(cmd_manager_dump), (state_changed), (cmd_manager_free_func),
	(transaction_cmd_do), (transaction_cmd_undo),
	(planner_cmd_manager_begin_transaction),
	(planner_cmd_manager_end_transaction), (planner_cmd_new_size):
	* src/planner-cmd-manager.h:
	* src/planner-group-dialog.c: (group_cmd_default_free):
	* src/planner-project-properties.c: (property_cmd_edit):
	* src/planner-resource-view.c: (resource_cmd_remove_free),
	(resource_cmd_edit_custom_property_free): Fix bug #144734, free
	the undo data.

2004-10-04  Richard Hult  <richard@imendio.com>

	* src/Makefile.am: Move sql define to the sql plugin flags.

	* src/planner-gantt-row.c: Clean up some indentation, add missing
	undo code for dragging a task bar. Fixes bug #149359.

	* src/planner-task-tree.c: Make a bit more consistent with the
	other undo code.

2004-10-02  Richard Hult  <richard@imendio.com>

	* data/ui/main-window.ui:
	* libegg/recent-files/*: Update from latest libegg CVS and add ui
	manager view from file-roller.
	
	* src/planner-window.c: (planner_window_open_recent_cb),
	(window_populate), (window_print_cb),
	(window_recent_tooltip_func): Hook up recent files again.

2004-10-02  Alvaro del Castillo <acs@barrapunto.com>  

	* configure.in: Added support for Evolution Data Server (e-d-s)
	module

	* Makefile.am: Added support for Evolution Data Server (e-d-s)
	module

	* eds-backend: new directory with all the e-d-s code

	* eds-backend/utils: code to create the sources in Evolution for
	Planner data sources.

	* eds-backend/docs: several docs about how the backend has been
	done before reaching CVS. Also testing plans and the Changelog
	before the code hit CVS.

2004-10-01  Alvaro del Castillo <acs@barrapunto.com>  

	* configure.in: Fix bad formatting for e-d-s feature

2004-09-24  Richard Hult  <richard@imendio.com>

	* src/planner-xml-planner-plugin.c: Fix up this plugin, use a
	separate gconf key for the last used dir, fix logic when adding an
	extension, use filechooser. Fixes bug #149281 and some more.

	* libplanner/mrp-time.c (mrp_time_from_tm): Try to fix a bug when
	running on solaris. Could fix bug #153643.

	* data/stylesheets/html1_gantt.xsl: Add 1 to the week
	number. Fixes bug #153170.

	* src/planner-window.c: Add locale.h to fix build for some
	systems.

2004-09-11  Richard Hult  <richard@imendio.com>

	* src/planner-print-dialog.c:
	* src/planner-table-print-sheet.c: Fix some indentation.

	* src/planner-window.c (window_print_preview_cb): Use the print
	config for the preview.
	(window_print_preview_cb): Only preview the views that are
	enabled.

	* src/planner-print-job.c (planner_print_job_new): Let gnome-print
	handle the orientation for us instead of doing it ourselves.
	
	* src/planner-gantt-print.c (planner_gantt_print_do): Fix printing
	of percent complete for tasks that span several pages.

	* src/planner-window.c (window_print_cb): Add the locale hack for
	printing, seems like it's still needed for PDF.

2004-09-10  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-print.c: (planner_gantt_print_do): Print the
	timeline. Based on patch from satyadadi@hotmail.com.

2004-09-08  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Added "zh_TW" to ALL_LINGUAS.

2004-08-27  Xavier Ordoquy  <xordoquy@linovia.com>

	* configure.in:
	searches for the gtk.def file

	* python/Makefile.am:
	includes the gtk.def file while generating the wrapper.

	* python/planner.defs:
	regenerated the PlannerWindow wrapper.

	* python/planner-types.defs:
	* python/planner.override:
	reflect the move to GtkUIManager

	* python/python-demo.py:
	demo to show a bit python scripting abilities.

2004-08-27  Xavier Ordoquy  <xordoquy@linovia.com>

	* data/ui/sql-plugin.ui:
	open/save are now in the import/export placeholders.

2004-08-21  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Add «nb» to ALL_LINGUAS.

2004-08-17  Richard Hult  <richard@imendio.com>

	* src/planner-print-dialog.c: (ensure_dir), (get_config_filename),
	(planner_print_dialog_load_config),
	(planner_print_dialog_save_config), (print_dialog_create_page):
	Fix indentation, factor out printing config file location code,
	handle not being able to find it. Remove libgnome stuff.
	
	* src/planner-table-print-sheet.c: (table_print_sheet_print_cell),
	(table_print_sheet_print_page), (table_print_sheet_foreach_row):
	Handle printing empty resource and task names. Fix indentation.

2004-08-15  Richard Hult  <richard@imendio.com>

	* configure.in: Remove unused dependencies.

	* src/planner-eds-plugin.c: Remove libgnome includes.

	* src/eel-canvas-rect.c: (eel_canvas_rect_init),
	(eel_canvas_rect_finalize), (eel_canvas_rect_update),
	(eel_canvas_rect_realize), (eel_canvas_rect_unrealize): Get rid of
	libgnome includes.

2004-08-11  Richard Hult  <richard@imendio.com>

	* src/planner-window.c (window_about_cb): Change
	translator_credits to translator-credits on request from the i18n
	guys. Update the planner link.

2004-08-12  Alvaro del Castillo  <acs@barrapunto.com>
	
	* libplanner-1.pc.in: removed hard coded Postgres flags

2004-08-12  Alvaro del Castillo  <acs@barrapunto.com>
	
	* src/planner-eds-plugin.c:
	(eds_find_resource): search if a resource was imported.
	(eds_import_resource): checks if a resource was imported and update
	it if it was already in the resource list.
	
2004-08-11  Alvaro del Castillo  <acs@barrapunto.com>
	
	* src/planner-eds-plugin.c:
	Store the e-d-s UID as a custom property in resources.
	
2004-08-10  Alvaro del Castillo  <acs@barrapunto.com>
	
	* src/planner-eds-plugin.c: 
	Fixed castings and some little style issues

2004-08-10  Alvaro del Castillo  <acs@barrapunto.com>

	* configure.in:
	* src/Makefile.am:
	Added support for enable evolution data server (eds) plugin
	* data/glade/Makefile.am:
	* data/glade/eds.glade (added):
	GUI for the evolution data server (eds) plugin
	* data/ui/Makefile.am:
	* data/ui/main-window.ui
	* data/ui/eds-plugin.ui (added)
	* src/planner-window.c:
	New Import menu and new entry in Import for eds plugin
	* src/planner-eds-plugin.c (added):
	eds plugin implementation
	
2004-08-09  Richard Hult  <richard@imendio.com>

	* libegg/recent-files/: Sync (even though we're not using this at
	the moment).

2004-08-09  Richard Hult  <richard@imendio.com>

	* libplanner/Makefile.am: Remove mrp-intl.h
	* libplanner/*.c: Change mrp-intl.h to glib/gi18n.h.
	* src/*.c: Change libgnome/gnome-i18n.h to glib/gi18n.h.

2004-08-09  Richard Hult  <richard@imendio.com>

	* configure.in:
	* libplanner/mrp-file-module.c: (mrp_file_module_load_all),
	(mrp_file_reader_read_string):
	* libplanner/mrp-file-module.h:
	* libplanner/mrp-mpx.c: (init):
	* libplanner/mrp-project.c: (mrp_project_load):
	* libplanner/mrp-xml.c: (init): Remove gsf usage since we didn't
	really use it for anything but opening an XML file and returning a
	doc pointer.

	* libplanner/mrp-error.h: Include glib.h.

2004-08-09  Mikael Hallendal  <micke@imendio.com>

	* src/planner-sql-plugin.c: Update to new PlannerConf api.

2004-08-09  Mikael Hallendal  <micke@imendio.com>

	* src/Makefile.am: Added planner-conf.h and planner-conf-gconf.c
	* src/planner-conf-gconf.c: Added
	* src/planner-conf.h: Added
	* src/planner-application.[ch]:
	* src/planner-gantt-chart.c:
	* src/planner-print-dialog.c:
	* src/planner-sql-plugin.c:
	* src/planner-task-view.c: 
	* src/planner-window.c: 
	* src/planner-xml-planner-plugin.c:
	- Added GConf abstraction layer.
	- Updated all places to use the GConf abstraction layer

2004-08-06  Richard Hult  <richard@imendio.com>

	* src/planner-window.c: Break some really long lines.
	(window_populate): Add tooltip to the view radio items.

	* src/planner-ttable-view.c (ttable_view_ttable_status_updated):
	Set status message.

	* src/Makefile.am: Fix libutil linkage.

	* src/planner-gantt-view.c: (gantt_view_gantt_status_updated_cb): 
	* src/planner-window.c: (window_add_widget), (window_populate),
	(window_view_selected), (window_restore_state),
	(planner_window_set_status), (window_menu_item_select_cb),
	(window_menu_item_deselect_cb), (window_disconnect_proxy_cb),
	(window_connect_proxy_cb): Add status bar and use it for status
	messages.

	* src/planner-sql-plugin.c:
	* src/planner-html-plugin.c:
	* src/planner-xml-planner-plugin.c: Fix strings that were changed
	in the ui manager transition.

2004-08-06  Richard Hult  <richard@imendio.com>

	* src/planner-window.c: Comment out unused action to get rid of
	stock icon warning.
	(window_populate): Create statusbar.

	* src/planner-view-loader.c (mvl_load_dir): Sort the views.

	* src/planner-window.c (window_add_widget): Remove the handle.

2004-08-06  Xavier Ordoquy  <xordoquy@linovia.com>

	* src/Makefile.am:
	Fixed Typo in the marshaller generation.

2004-08-06  Xavier Ordoquy  <xordoquy@linovia.com>

	* src/planner-sql-plugin.c:
	Now uses the GtkUIManager for the menu/toolbar.

2004-08-06  Richard Hult  <richard@imendio.com>

	* src/planner-resource-cmd.c: Include config.h.

	* src/*.c: Fix coding style inconsistencies.

2004-08-06  Richard Hult  <richard@imendio.com>

	* src/planner-task-cmd.c: Include config.h to fix i18n.

	* src/planner-gantt-view.c: (activate):
	* src/planner-html-plugin.c: (plugin_init):
	* src/planner-resource-view.c: (activate):
	* src/planner-task-view.c: (activate):
	* src/planner-ttable-view.c: (activate):
	* src/planner-window.c: (window_populate), (window_print_cb):
	* src/planner-xml-planner-plugin.c: (plugin_init): Set translation
	domain to get i18n working.

	* data/ui/gantt-view.ui: 
	* data/ui/main-window.ui: Remove spaces.

2004-08-05  Xavier Ordoquy  <xordoquy@linovia.com>

	* data/ui/gantt-view.ui:
	* data/ui/html-plugin.ui:
	* data/ui/main-window.ui:
	* data/ui/resource-view.ui:
	* data/ui/sql-plugin.ui:
	* data/ui/task-view.ui:
	* data/ui/time-table-view.ui:
	* data/ui/xml-planner-plugin.ui:
	Change the file to match the GtkUIManager xml.

	* src/planner-application.h:
	* src/planner-gantt-view.c:
	* src/planner-html-plugin.c:
	* src/planner-main.c:
	* src/planner-python-plugin.c:
	* src/planner-resource-view.c:
	* src/planner-sql-plugin.c:
	* src/planner-task-popup.c:
	* src/planner-task-view.c:
	* src/planner-ttable-view.c:
	* src/planner-view.c:
	* src/planner-view.h:
	* src/planner-window.c:
	* src/planner-window.h:
	* src/planner-working-time-dialog.c:
	* src/planner-xml-planner-plugin.c:
	Now uses the GtkUIManager for the menu/toolbar.

2004-08-03  Richard Hult  <richard@imendio.com>

	* src/planner-task-tree.c: (task_tree_init), (task_tree_finalize),
	(task_tree_row_activated_cb): Bring up task dialog when a row is
	activated. Fixes bug #148058.

2004-08-03  Richard Hult  <richard@imendio.com>

	* src/planner-resource-dialog.c: Clean up coding style a bit. Use
	g_strtod instead of g_ascii_strtod. Change cost to a regular
	property.

	* src/planner-project-properties.c:
	* src/planner-resource-view.c:
	* src/planner-task-tree.c: Use g_strtod instead of g_ascii_strtod.

2004-08-03  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-old-xml.c: Handle non-existant properties better.
	* libplanner/mrp-project.c: Don't add a cost custom property.
	* libplanner/mrp-resource.c: Add cost property. 

	* libplanner/mrp-task-manager.c (mrp_task_manager_move_task):
	Invalidate cost cache.

	* libplanner/mrp-task.c (task_remove_subtree_cb): Remove extra
	mrp_object_removed call.
	(imrp_task_remove_subtree): Invalidate cost cache.
	(task_set_property): Likewise.

	Based on patch from Doroszlai Attila to fix bug #138475.

2004-08-02  Alvaro del Castilo  <acs@barrapunto.com>
	
	* data/sql/Makefile.am: new files
	data/sql/database-0.13.sql
	data/sql/upgrade-0.11-0.13.sql
	added new table to store the database tables version
	* libplanner/Makefile.am: need DATADIR to find SQL files
	* libplanner/mrp-sql.c: fix some warnings, formatting and
	issues with the project_id.
	* src/Makefile.am: used planner version to locate SQL files
	to be loaded. Also we use SQL_DIR to find SQL files.
	* src/planner-sql-plugin.c: 
	(sql_get_last_error) get last error from database connection
	(is_newer_version): compare to planner versions
	(check_database_tables): check if tables in planner database already exists
	and create them if not.
	(create_database): check if planner database exists and create it if not.
	(sql_get_tested_connection): get a connection to the database checking that
	planner database and tables are created if they don't exist.
	
2004-08-02  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-model.h:
	* src/planner-task-tree.c: (task_tree_assigned_to_data_func),
	(task_tree_add_column):
	* src/planner-task-view.c: (get_widget): Add patch from Chris
	Morgan <cmorgan@alum.wpi.edu> to add a column with the assigned
	resources.

2004-08-01  Richard Hult  <richard@imendio.com>
	
	* libplanner/mrp-task-manager.c:
	(task_manager_clean_graph_func),
	(task_manager_build_dependency_graph),
	(add_predecessor_to_dependency_graph),
	(remove_predecessor_from_dependency_graph_recursive),
	(remove_predecessor_from_dependency_graph),
	(remove_parent_from_dependency_graph),
	(add_parent_to_dependency_graph),
	(remove_task_from_dependency_graph),
	(add_task_to_dependency_graph): Build dependency graph in one go,
	and add functions to add/remove a single task.

	(task_manager_traverse_dependency_graph),
	(task_manager_calc_relation),
	(task_manager_do_forward_pass_helper),
	(task_manager_do_forward_pass), (task_manager_do_backward_pass),
	(mrp_task_manager_rebuild), (mrp_task_manager_recalc): Use the new
	dependency graph when doing the CPM forward/backward passes.

	(check_predecessor_traverse),
	(mrp_task_manager_check_predecessor),
	(mrp_task_manager_check_move): Check for loops in the graph when
	adding a predecessor or moving a subtree.

	* libplanner/mrp-private.h:
	* libplanner/mrp-task.c: (task_init), (task_finalize),
	(task_remove_subtree_cb), (imrp_task_insert_child),
	(imrp_task_get_graph_node): Replace the dependency tree + links
	with a graph.
 	
	* tests/files/test-2.planner:
	* tests/scheduler-test.c: (main): Make it simple to add more test
	files, and add one.

2004-08-01  Richard Hult  <richard@imendio.com>

	* src/Makefile.am: Clean up.

	* Makefile.am:
	* configure.in: 
	* tests/: Add back the tests and add a new test for the
	scheduler.

2004-08-01  Richard Hult  <richard@imendio.com>

	* src/planner-window.c (window_do_save_as): Use the right
	response, fixes saving.

2004-07-31  Richard Hult  <richard@imendio.com>

	* src/Makefile.am: Put scale utils in the executable, split out
	shared gantt header code.

	* src/planner-gantt-row.c (gantt_row_event): Move declaration to
	the top.

2004-07-30  Xavier Ordoquy  <xordoquy@linovia.com>

	* python/Makefile.am:
	We do need to include ../src headers and PLANNER FLAGS

	* python/planner-types.defs:
	* python/planner.defs:
	* python/planner.override:
	Added PlannerApplication and PlannerWindow to binding.

	* src/planner-python-plugin.c:
	Do more imports as bonobo is required for
	PlannerWindow.
	Replaced the project by window.

2004-07-30  Xavier Ordoquy  <xordoquy@linovia.com>

	* data/ui/Makefile.am:
	* data/ui/python-plugin.ui:
	* src/planner-python-plugin.c:
	The plugin now reads files in ~/.gnomeXX/planner/python

2004-07-30  Anders Carlsson  <andersca@gnome.org>

	* configure.in:
	* data/mime/Makefile.am:
	* data/planner.desktop.in:
	Support new mime activation specification.
	
2004-07-30  Richard Hult  <richard@imendio.com>

	* examples/Makefile.am:
	* examples/kitchen.planner: Add nice example from Kurt.

2004-07-30  Richard Hult  <richard@imendio.com>

	* src/planner-window.c: (get_last_dir): Remove trailing slash.

2004-07-30  Richard Hult  <richard@imendio.com>

	* configure.in:
	* data/ui/Makefile.am:
	* src/Makefile.am: Don't make resource usage view optional.

2004-07-30  Richard Hult  <richard@imendio.com>

	* configure.in: Update requirements.

	* libegg/recent-files: Sync with latest libegg.

	* libplanner/mrp-file-module.c: (mrp_file_module_load_all):
	* src/planner-plugin-loader.c: (mpl_load_dir):
	* src/planner-view-loader.c: (mvl_load_dir): Don't hardcode .so
	suffix.

	* src/Makefile.am: Split out shared code from task/gantt views.

2004-07-27  Richard Hult  <richard@imendio.com>

	* src/planner-task-dialog.c:
	(task_dialog_resource_units_cell_edited): Merge from 0.12 branch.

2004-07-19  Richard Hult  <richard@imendio.com>

	* configure.in: Bump.

2004-07-08  Anders Carlsson  <andersca@gnome.org>

	* src/planner-window.c: (window_open_cb), (window_do_save_as):
	We don't need to check if we're opening a directory.

2004-07-08  Anders Carlsson  <andersca@gnome.org>

	* configure.in:
	* data/glade/html-output.glade:
	* src/planner-window.c: (window_open_cb), (window_do_save_as):
	Use GtkFileChooser.
	
2004-07-08  Richard Hult  <richard@imendio.com>

	* Release 0.12.

	* configure.in: Bump version.
	* examples/sample-1.planner: Fix the sample name.
	* src/planner-window.c: (window_update_title): Brand a bit.

2004-07-07  Richard Hult  <richard@imendio.com>

	* planner.spec.in: Put the sql storage in the right
	package. Redirect mime updating to /dev/null.

	* docs/user-guide/C/planner.xml: Fix up.

	* src/planner-window.c: Brand a bit.
	
2004-07-05  Richard Hult  <richard@imendio.com>

	* configure.in: Bump.

	* src/planner-resource-view.c:
	(resource_cmd_edit_custom_property): Remove string.

	* src/planner-task-dialog.c: (task_cmd_edit_sched): Change string
	that was completely wrong. Sorry translators, but this is better
	to have fuzzy than the wrong meaning.

	* src/planner-task-tree.c: (task_cmd_edit_custom_property): Remove
	string.

2004-07-02  Richard Hult  <richard@imendio.com>

	* src/planner-ttable-row.c: (ttable_row_realize),
	(ttable_row_draw_resource_ival): Draw vertical separators between
	the intervals.

2004-07-02  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-chart.c: Fix coding style in a few places.

	* src/planner-ttable-chart.c (ttable_chart_map):
	* src/planner-ttable-view.c: (ttable_view_project_loaded_cb): Add
	workaround to make this a bit better for 0.12.

2004-07-02  Richard Hult  <richard@imendio.com>

	* src/planner-ttable-chart.c (planner_ttable_chart_set_model):
	Don't add a signal connected to a task to the list of connections
	to remove.

	* src/planner-ttable-row.c (recalc_bounds): Don't use
	uninitialized values.

2004-07-01  Richard Hult  <richard@imendio.com>

	* src/planner-ttable-row.c (ttable_row_draw_resource_ival): Draw
	the border correctly.

	* src/planner-gantt-chart.c: (gantt_chart_row_has_child_toggled),
	(planner_gantt_chart_set_model): Redraw when parenthood changes.

	* src/planner-ttable-chart.c: Add hack to fix a bug where zoom to
	fit don't work.

2004-07-01  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-model.c (value_cache_get_wbs): Plug leak.

	* src/planner-gantt-*.c: Clean up a bit.

2004-07-01  Richard Hult  <richard@imendio.com>

	* src/planner-resource-view.c (resource_view_insert_resource_cb):
	Don't enter editable mode for inserted rows, we need undo
	transactions first.

2004-06-30  Richard Hult  <richard@imendio.com>

	* Makefile.am:
	* configure.in:
	* examples/sample-1.planner:  Dist the examples.

	* data/ui/xml-planner-plugin.ui: Fix string.

	* docs/user-guide/C/planner.xml: Make the man version the same as
	the app version, looks silly otherwise.
	
	* libplanner/mrp-parser.c: (mrp_parser_save):
	* libplanner/mrp-project.c: (mrp_project_save_as):
	* src/planner-application.c: (application_init):
	* src/planner-window.c: (window_do_save_as), (planner_window_open):
	* src/planner-xml-planner-plugin.c: (xml_planner_plugin_export):
	Fix up filename extensions and mime types.

	* planner.spec.in: Get this baby working.
	
2004-06-30 Alvaro del Castillo  <acs@barrapunto.com>

	* configure.in
	* data/Makefile.am
	* data/sql/Makefile.am
	* data/sql/database-0.11.sql
	* data/sql/database.sql
	* data/sql/upgrade-0.6.x-0.11.sql
	Install sql schema files in the system

2004-06-29  Setul Patel   <setulkumarpatel@yahoo.com>

	* Add G_GNUC_CONST to all _get_type functions.
	
2004-06-26 Alvaro del Castillo  <acs@barrapunto.com>
	
	* libplanner/mrp-object.c: Fix in mrp_object_get_property API doc.
	* src/planner-property-dialog.c: Implemented recovering properties
	values for tasks and resources when you undo a remove custom
	property operation. Fixes #143609.

2004-06-25  Richard Hult  <richard@imendio.com>

	* src/planner-ttable-row.c: (recalc_bounds),
	(ttable_row_resource_notify_cb),
	(ttable_row_assignment_notify_cb): Don't redraw unless the
	geometry is changed.

2004-06-25  Richard Hult  <richard@imendio.com>

	* src/planner-ttable-*.[ch]: Indent this so it at least remotely
	looks like the rest of the planner code. Sigh.  Do some of the
	same optimizations to the drawing code as was done to the gantt
	chart recently.

2004-06-25  Setul Patel   <setulkumarpatel@yahoo.com>

	* data/ui/gantt-view.ui:
	* data/ui/task-view.ui:
	* data/ui/resource-view.ui: Fix bug #144466.

2004-06-25  Richard Hult  <richard@imendio.com>

	* Makefile.am:
	* data/mime/Makefile.am:
	* data/mime/planner.keys.in:
	* dotnet/libplanner/Makefile.am:
	* dotnet/libplanner/libplanner-api.xml:
	* dotnet/samples/Example01.cs:
	* dotnet/samples/Example10.cs:
	* dotnet/samples/Makefile.am: Fix distcheck.

	* libplanner/mrp-sql.c: (sql_get_last_error), (get_int), (get_id),
	(get_string), (get_boolean), (get_float):
	* src/planner-sql-plugin.c: (get_int), (get_string):
	* src/planner-task-dialog.c: Fix leaks and warnings.

2004-06-23 Alvaro del Castillo  <acs@barrapunto.com>
	
	* src/planner-calendar-dialog.c
	* src/planner-day-type-dialog.c
	* src/planner-group-dialog.c
	* src/planner-phase-dialog.c
	* src/planner-project-properties.c
	* src/planner-resource-cmd.c
	* src/planner-resource-dialog.c
	* src/planner-resource-view.c
	* src/planner-task-cmd.c
	* src/planner-task-dialog.c
	* src/planner-task-tree.c:
	Change strings from undo command to fix bug #144742 and
	use the new undo API call planner_cmd_new which fix the
	more hard change in bug #144734.

2004-06-23  Richard Hult  <richard@imendio.com>

	* src/planner-ttable-model.c (ttable_model_resource_removed_cb):
	Disconnect signals when resources are removed. Fixes bug #141120.

2004-06-22  Richard Hult  <richard@imendio.com>

	* src/planner-window.c: Fix bug #140335, save UI state, based on
	patch from Chris Ladd.

2004-06-22  Richard Hult  <richard@imendio.com>

	* configure.in:
	* data/images/Makefile.am:
	* data/images/gnome-application-x-mrproject.png:
	* data/images/gnome-application-x-planner.png:
	* data/mime/Makefile.am:
	* data/mime/planner.applications:
	* data/mime/planner.keys.in:
	* data/mime/planner.mime:
	* data/mime/planner.xml.in: Make the mime type stuff work.

	* libplanner/mrp-xsl.c: (html_write), (xml_planner_pre012_write):
	Fix strings.

2004-06-22  Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-gantt-chart.c:
	Remove the relations using gantt_chart_relation_removed
	not just removing the relation from the hash table.

2004-06-22  Richard Hult  <richard@imendio.com>

	* src/planner-task-dialog.c (task_dialog_update_sensitivity):
	Don't make work insensitive for fixed duration.

2004-06-21  Richard Hult  <richard@imendio.com>

	* data/stylesheets/Makefile.am:
	* data/stylesheets/planner2plannerv011.xsl:
	* data/ui/Makefile.am:
	* data/ui/html-plugin.ui:
	* data/ui/main-window.ui:
	* data/ui/xml-planner-plugin.ui:
	* libplanner/mrp-xsl.c: (xml_planner_pre012_write), (init):
	* src/planner-html-plugin.c:
	* src/planner-xml-planner-plugin.c: (get_last_dir),
	(xml_planner_plugin_export), (plugin_init), (plugin_exit): Based
	on patch from Lincoln, fixes bug #141257: export as older planner
	version.

	* src/planner-window.c: Remove stray precondition tests.

2004-06-21 Alvaro del Castillo  <acs@barrapunto.com>

	* libplanner/mrp-calendar.[ch] (mrp_calendar_add): new function
	needed for the undo system.
	* src/planner-calendar-dialog.c: undo support for add and remove
	calendars.
	* src/planner-working-time-dialog.c: undo support for changing the
	working time in calendars.

2004-06-21  Richard Hult  <richard@imendio.com>

	* src/planner-property-dialog.c:
	* src/planner-property-dialog.h:
	* src/planner-property-model.h: Fix indentation and remove the
	possibility to select which columns to use (unsed and didn't
	work). Also apply patch from Lincoln to fix bug #141967.

	* src/planner-task-tree.c: Remove debug output.

2004-06-21 Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-sql-plugin.c: change in
	planner_application_get_gconf_client that breaks CVS compile,
	detected by lincoln. Change to use the new API.

2004-06-19  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-resource.c (resource_set_property,
	resource_set_property): Reschedule when the resource calendar is
	modified and the resource has assignments. Also reschedule when
	the calendar is changed. Fixes bug #138159.

	* libplanner/mrp-project.c (mrp_project_reschedule): Force recalc,
	otherwise this won't do anything.

	* src/planner-resource-view.c: (resource_view_resource_notify_cb),
	(resource_view_resource_prop_changed_cb),
	(resource_view_resource_added_cb),
	(resource_view_resource_removed_cb):
	* src/planner-gantt-model.c: (gantt_model_connect_to_task_signals),
	(traverse_remove_subtree), (gantt_model_task_removed_cb),
	(gantt_model_task_notify_cb), (gantt_model_task_prop_changed_cb):
	* src/planner-task-tree.c: (task_tree_property_changed): Fix bug
	#142121, custom properties don't update correctly on undo/redo.

2004-06-19  Richard Hult  <richard@imendio.com>

	* src/planner-ttable-tree.c (planner_ttable_tree_set_model)
	(ttable_tree_row_inserted): Fix bug #141117, tree and chart
	expansion gets out of sync.

2004-06-18  Richard Hult  <richard@imendio.com>

	* data/glade/task-dialog.glade:
	* src/planner-task-dialog.c: (planner_task_dialog_new): Remove the
	disabled option menus until we actually implement those parts.
	(task_dialog_connect_to_task): Use - instead of _ in notify signal
	names, fixes bug where the spinbutton wasn't updated.
	(task_dialog_task_complete_changed_cb): Use accessor.

2004-06-18 Alvaro del Castillo  <acs@barrapunto.com>

	* libplanner/mrp-task.c: (task_remove_subtree_cb):
	* src/planner-gantt-chart.c: (gantt_chart_insert_task),
	(gantt_chart_relation_added), (gantt_chart_task_removed),
	(gantt_chart_tree_node_remove): Fix bug #141346.

2004-06-18  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-row.c (gantt_row_notify_cb): Update when
	percent complete changes.

	* src/planner-gantt-print.c (planner_gantt_print_do)
	(gantt_print_task): Fix bug #134552, print out percent complete.

2004-06-18 Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-task-cmd.c: Fixed bad string

	* src/planner-calendar-dialog.c: Added undo for calendar day type

2004-06-17  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-print.c: (planner_gantt_print_do): Handle
	cases where page start equals task finish, can happen with
	milestone tasks for example. Also add a workaround to fix a crash
	(bug #135473) when the scheduler has screwed up, for 0.12.

2004-06-17  Richard Hult  <richard@imendio.com>

	* src/planner-application.c:
	* src/planner-gantt-chart.c:
	* src/planner-gantt-view.c:
	* src/planner-print-dialog.c:
	* src/planner-task-tree.c:
	* src/planner-task-view.c:
	* src/planner-window.c: Simplify gconf code and add keys for
	critical path highlighting.

2004-06-17  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-row.c (gantt_row_notify_cb): Only redraw if
	critical changed, don't update arrow positions.

	* src/planner-gantt-model.c: Improve the caching scheme (AKA make
	it work).

2004-06-17  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-task-manager.c (task_manager_do_backward_pass):
	Don't set critical if it hasn't changed.

2004-06-17  Richard Hult,,,  <richard@imendio.com>

	* src/planner-gantt-model.c: (gantt_model_task_inserted_cb),
	(traverse_remove_subtree), (gantt_model_remove_subtree),
	(gantt_model_task_removed_cb), (gantt_model_reattach_subtasks),
	(gantt_model_task_moved_cb), (gantt_model_task_notify_cb),
	(traverse_insert_task_into_hash), (planner_gantt_model_new),
	(gantt_model_get_iter), (gantt_model_get_value), (dump_children),
	(value_cache_get_wbs), (value_cache_free), (value_cache_get),
	(value_cache_clear), (value_cache_set_wbs):
	* src/planner-task-tree.c: (task_tree_name_data_func),
	(task_tree_work_data_func), (task_tree_start_show_popup): Use
	accessors in even more places. Add a caching scheme and use it to
	cache the WBS string instead of generating it lots and lots of
	times.

2004-06-16  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-row.c: Cache the frame gc and colors.

	* src/planner-task-dialog.c (task_dialog_pred_cell_edited): Don't
	create the predecessor twice.

	* libplanner/mrp-resource.c: (mrp_resource_get_short_name),
	(mrp_resource_set_short_name):
	* libplanner/mrp-task-manager.c: (dump_children),
	(mrp_task_manager_dump_task_list), (task_manager_calc_relation),
	(task_manager_get_task_units_intervals),
	(task_manager_calculate_task_finish),
	(task_manager_do_forward_pass), (mrp_task_manager_recalc):
	* libplanner/mrp-task.c: (mrp_task_add_predecessor): Add accessors
	to speed up things, clean up coding style-wise.
	
	* src/planner-gantt-chart.c: Clean up a bit and use accessors.
	
	* src/planner-gantt-row.c (recalc_bounds): Check if things really
	changed.
	(gantt_row_notify_cb): Don't redraw if things didn't change.
	(gantt_row_draw, gantt_row_assignment_added),
	(gantt_row_assignment_removed),
	(gantt_row_assignment_units_changed),
	(planner_gantt_row_get_geometry), (planner_gantt_row_set_visible),
	(gantt_row_event): Use accessors.

	* src/planner-relation-arrow.c: Indent.
	(planner_relation_arrow_new): Set the relation type before setting
	up the geometry, fixes creating other relations than the default.

	* src/planner-task-dialog.c: Comment out FF and SF for now. Get
	the right relation type instead of relying on the index to match
	the enum value. Use accessors.

	* src/planner-gantt-print.c: (print_table_header),
	(print_table_tasks), (print_time_header),
	(planner_gantt_print_do),
	(planner_gantt_print_data_new), (free_page),
	(planner_gantt_print_data_free): Reindent, fix style issues, plug
	leaks.

2004-06-15  Richard Hult  <richard@imendio.com>

	* dotnet/libplanner/Makefile.am: Patch from steevdave@steev.net to
	fix building with recent mono.

2004-06-14 Alvaro del Castillo  <acs@barrapunto.com>

	* Added src/planner-task-cmd.[ch]: shared undo commands for tasks
	go to this file.
	* Added src/planner-resource-cmd.[ch]: shared undo commands for resources
	go to this file.	
	* po/ChangeLog, po/POTFILES.in: new files has strings to be translated. Added.
	* src/Makefile.am: new files need to be compiled and linked in planner.
	* src/planner-gantt-row.c: use the new files for task undo commands 
	planner-task-cmd.[ch]
	* src/planner-resource-input-dialog.[ch]: undo for resources inserted implemented.
	* src/planner-resource-view.c: move some resource undo code to new file 
	planner-resource-cmd.[ch]
	* src/planner-task-dialog.[ch]: move some task undo code to new file 
	planner-task-cmd.[ch]
	* src/planner-task-input-dialog.[ch]: undo for tasks inserted implemented.
	* src/planner-task-tree.[ch]: use the new files for task undo commands 
	planner-task-cmd.[ch]. Move some task undo code to these files.

2004-06-13 Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-task-dialog.c: implemented undo for note
	task dialog editor

	* libplanner/mrp-task.c: init task note with a "" string like
	we do for a resource.

2004-06-12 Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-task-tree.[ch]: added new function to get the 
	PlannerWindow for a PlannerTaskTree. This is need because we
	are moving task undo commands to a central point so we have removed
	from src/planner-task-tree.c the undo command that were used in
	planner-gantt-row.

	(planner_task_tree_get_window)

	I need to check with richard the change and maybe, find a better way to 
	do it. The CVS doesn't work so we need a quick fix ;-)

2004-06-12 Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-task-tree.c: moved undo code to planner-task-dialog
	in last commit but failed to commit this file.

2004-06-10 Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-task-dialog.[ch]: implemented undo for predecessor
	task dialog editor (add/remove predecessor, edit a predecessor)
	
2004-06-08  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-object.c: (mrp_object_get_project):
	* libplanner/mrp-object.h:
	* libplanner/mrp-project.h: Small hack to avoid a lot of
	g_object_get.
	
	* src/planner-gantt-model.c: (gantt_model_get_value): Use
	work_start instead of start for display and use the getters
	instead of g_object_get in the get_value function.

2004-06-07 Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-task-dialog.c: implemented undo for resource
	assignment to task (assign resource, remove resource, change
	units assigned). 

	Use planned_cmd_new API in all the undo code.

	Changes in undo functions in order to be more understable.
	
2004-06-06 Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-task-dialog.c: implemented undo milestone and 
	fixed duration in task dialog.
	
2004-06-04 Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-task-dialog.c: implemented undo for all the fields
	in the first page of the task dialog editor notebook, except 
	milestone and fixed duration.

	* src/planner-resource-view.c: fixed memory leaks using GValues.

	* src/planner-task-tree.c: fixed memory leaks using GValues.
	

2004-06-03  Setul Patel  <setulkumarpatel@yahoo.com>

	* data/ui/main-window.ui: Fix bug #143662.
	
2004-06-02  Richard Hult  <richard@imendio.com>

	* Commit patch from Lincoln Phipps to fix bug #140694.
	
2004-05-20  Richard Hult  <richard@imendio.com>

	* configure.in: Fix aclocal flags. Bump version to 0.11.90.	

	* autogen.sh: Revert change from Tomasz.

2004-05-18 Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-task-tree.c: implemented custom properties editing undo
	and reset costraints undo.

2004-05-14  Xavier Ordoquy  <xordoquy@wanadoo.fr>

	* src/planner-python-plugin.c:
	Changed the python interpreter management.

2004-05-12  Tomasz Kłoczko <kloczek@pld.org.pl>

	* autogen.sh: allow use autogen.sh not only in automake 1.7.x enviroment.
	* data/ui/Makefile.am: fix for include in dist tar ball timetable
	  and python UI files.
	* dotnet/samples/Makefile.am, dotnet/Makefile.am: include in dist
	  tar ball example files.
	* src/Makefile.am: include in dist tar ball missing header files.

2004-05-10  Richard Hult  <richard@imendio.com>

	* src/planner-ttable-view.c (ttable_view_update_zoom_sensitivity) 
	(activate, ttable_view_zoom_out_cb, ttable_view_zoom_in_cb) 
	(ttable_view_zoom_to_fit_cb): Fix bug #141116, patch from Lincoln.

	* data/ui/time-table-view.ui: Fix the weird edit menu.
	* src/planner-ttable-model.c: Start cleaning up coding style.

2004-05-10  Richard Hult  <richard@imendio.com>

	* data/ui/Makefile.am: Dist all ui files unconditionally.

	* data/glade/project-properties.glade:
	* src/planner-phase-dialog.c: (phase_dialog_remove_phase),
	(phase_dialog_new_dialog_run), (phase_cmd_insert_do),
	(phase_cmd_insert_undo), (phase_cmd_insert_free),
	(phase_cmd_insert), (phase_cmd_remove_do), (phase_cmd_remove_undo),

	(phase_cmd_remove_free), (phase_cmd_remove): Commit patch from
	Lincoln Phipps with modifications. Fixes bug #141177 and bug
	#141184.

2004-05-09 Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-gantt-row.c: Task link undo with new GError system.

	* src/planner-task-tree.c: 
	Clean "g_free (cmd)" and "g_free (cmd_base->label)" that it's done
	in the command manager.
	TaskCmdTaskMove is renamed to TaskCmdMove.
	Clean Task Move system so we use the new GError system.
	Undo system for link task.

	* src/planner-task-tree.[ch]:
	Export link undo method so planner-gantt-row.c can use it.
	
2004-05-03  Richard Hult  <richard@imendio.com>

	* configure.in:
	* libplanner/mrp-sql.c: (sql_get_last_error), (get_int), (get_id),
	(get_string), (get_boolean), (get_float), (mrp_sql_load_project),
	(mrp_sql_save_project):
	* src/Makefile.am:
	* src/planner-python-plugin.c: (python_plugin_execute): Fix build.

	* data/ui/python-plugin.ui: Fix typo.

2004-05-03 Alvaro del Castillo  <acs@barrapunto.com>

        * src/planner-resource-dialog.c: implemented undo for resource cost
        in the resource editor dialog.

        * src/planner-resource-dialog.c:
        (resource_dialog_close_clicked_cb)
        (resource_dialog_resource_removed_cb)
        Disconnect signal for resource removed so we don't try to destroy
        a widget that doesn't exist

2004-05-03  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-project.c: (imrp_project_add_calendar_day),
	(mrp_project_get_calendar_day_by_id):
	* libplanner/mrp-project.h:
	* src/planner-default-week-dialog.c:
	(default_week_dialog_response_cb), (is_day_builtin),
	(default_week_cmd_edit_do), (default_week_cmd_edit_undo),
	(default_week_cmd_edit_free), (default_week_cmd_edit): Add undo
	support for editing the default week.

2004-05-02  Richard Hult  <richard@imendio.com>

	* src/planner-calendar-dialog.c: (cal_dialog_response_cb),
	(planner_calendar_dialog_new),
	(cal_dialog_update_calendar_widgets):
	* src/planner-cmd-manager.c: (cmd_manager_insert),
	(planner_cmd_manager_insert_and_do), (transaction_cmd_do),
	(planner_cmd_manager_end_transaction), (planner_cmd_new_size):
	* src/planner-cmd-manager.h:
	* src/planner-day-type-dialog.c: (day_type_cmd_add_do),
	(day_type_cmd_remove_do):
	* src/planner-default-week-dialog.c:
	(default_week_dialog_response_cb),
	(planner_default_week_dialog_new), (default_week_cmd_edit_do),
	(default_week_cmd_edit_undo), (default_week_cmd_edit_free),
	(default_week_cmd_edit):
	* src/planner-group-dialog.c: (group_cmd_insert_do),
	(group_cmd_remove_do), (group_cmd_default_do),
	(group_cmd_edit_property_do):
	* src/planner-project-properties.c: (property_cmd_edit_do):
	* src/planner-resource-dialog.c: (resource_cmd_calendar_do),
	(resource_cmd_calendar_free), (resource_cmd_note_do),
	(resource_cmd_edit_property_do):
	* src/planner-resource-view.c: (resource_cmd_insert_do),
	(resource_cmd_remove_do), (resource_cmd_edit_property_do),
	(resource_cmd_edit_custom_property_do):
	* src/planner-task-tree.c: (task_cmd_insert_do),
	(task_cmd_insert_undo), (task_cmd_insert),
	(task_cmd_edit_property_do), (task_cmd_remove_do),
	(task_cmd_remove), (task_cmd_constraint_do), (task_cmd_constraint),
	(task_cmd_task_move_do): Change the command manager interface
	slightly to be able to handle commands that fail, and add some
	convenience API. Update everything to the new interface.

	* src/planner-resource-dialog.c (resource_cmd_calendar_free):
	Check the right calendar before unreffing it.

2004-05-02  Richard Hult  <richard@imendio.com>

	* libplanner/Makefile.am:
	* libplanner/mrp-object.c: (mrp_object_set_id):
	* src/Makefile.am: Add back the warning flags and fix a warning.

2004-05-01  Richard Hult  <richard@imendio.com>

	* src/planner-cmd-manager.c (cmd_manager_free_func): Add commented
	out code to free the base command, need to add this when the rest
	of the code is fixed.

	* libplanner/mrp-day.c: (mrp_day_add): Clean a bit.

	* src/planner-day-type-dialog.c: Implement undo/redo. Use the day
	id instead of the pointer to identify day types.

2004-05-01 Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-resource-dialog.c: implemented undo for resource calendar 
	in the resource editor dialog.

2004-05-01 Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-resource-dialog.c: implemented undo for resource note
	in the resource editor dialog.

2004-04-29  Xavier Ordoquy  <xordoquy@wanadoo.fr>

	* libplanner/mrp-task-manager.c:
	(mrp_task_manager_calculate_task_work):
	Added the assignement units to the duration to work convertion.

2004-04-28  Tomasz Kłoczko <kloczek@pld.org.pl>

	* configure.in: remove AC_SUBST() for CFLAGS, CPPFLAGS, LDFLAGS
	(this variables are substed by default).

2004-04-27  Richard Hult  <richard@imendio.com>

	* docs/user-guide/C: Update from Kurt. Fixes bug #140330.

	* Fix bug #132453. Based on patch from Lincoln Phipps.

2004-04-27  Xavier Ordoquy  <xordoquy@wanadoo.fr>

	* acinclude.m4:
	Added checks for python environment (taken out from pygtk).

	* configure.in:
	Updated the python binding and added the python module.

	* Makefile.am:
	Added conditional python binding build.

	* data/ui/Makefile.am:
	* data/ui/python-plugin.ui:
	Added the python-plugin menu entry.

	* python/Makefile.am:
	Changed the planner module name and cleaned flags.

	* python/planner-arg-types.py:
	Created from planner-arg-types.defs.

	* python/planner.defs:
	Added insert_task default parameters.

	* python/test.py:
	Example script for python binding and python module.

	* src/Makefile.am:
	Added the planner-python-plugin.

	* src/planner-python-plugin.c:
	Created a plugin to get python scripting in planner.

2004-04-26  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-task.c (mrp_task_get_cost): Commit cost
	calculation fix from Alvaro.

2004-04-19  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-task-manager.c: (mrp_task_manager_recalc): Don't
	let recalc trigger a recursive recalc.

2004-04-19  Tomasz Kłoczko <kloczek@pld.org.pl>

	* docs/sql/Makefile.am: updated EXTRA_DIST files list.

2004-04-19  Mikael Hallendal  <micke@imendio.com>

	* src/planner-resource-dialog.c:
	(resource_dialog_email_changed_cb): fixed mem-leak.

2004-04-17  Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-group-dialog.c: better memory handling.
	* src/planner-resource-dialog.c: undo using focus in/focus out.
	Maybe we use the focus out to change values in planner so this
	could change in the future.
	Implemented "_free" functions for undo system.
	* src/planner-resource-view.c: better memory handling.
	Implemented "_free" functions for undo system.
	
2004-04-17  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-sql.c: (mrp_sql_save_project):
	* src/planner-sql-plugin.c: (sql_plugin_retrieve_project_id):
	Handle errors (such as no database server running) better.

2004-04-17  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-task-manager.c (task_manager_do_forward_pass):
	Notify duration changes. Fixes bug #140324.

	* src/planner-window.c (window_get_name): Don't show database
	details such as password.
	(window_confirm_exit_run): Hack for now that removes the save
	button for database projects.

	* data/glade/sql.glade:
	* libplanner/mrp-sql.c: (sql_read_resources):
	* src/planner-sql-plugin.c: (sql_plugin_retrieve_project_id): Fix
	bug #136507, based on patch from Lincoln with further work from
	me.

2004-04-17  Setul Patel   <setulkumarpatel@yahoo.com>

	* data/ui/main-window.ui:
	* src/planner-window.c: Fix bug #134357.

2004-04-17  Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-task-tree.c: Undo code for task constraints, task
	movement and task indentation.

2004-04-16  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-row.c: (gantt_row_get_bounds),
	(gantt_row_draw), (gantt_row_point): Fix bug #137581.

2004-04-16  Richard Hult  <richard@imendio.com>

	* data/stylesheets/Makefile.am:
	* data/stylesheets/html1_css.xsl:
	* data/stylesheets/html1_gantt.xsl:
	* data/stylesheets/html1_resources.xsl:
	* data/stylesheets/html1_tasks.xsl:
	* data/stylesheets/mrproject2html.xsl: Commit patch from Chris
	Ladd to fix bug #129226, bug #135388 and bug #137243.

2004-04-16  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-view.c: (gantt_view_update_ui): Remove
	whitespace.
	
	* src/planner-resource-view.c: (resource_view_update_ui): Fix bug
	where we were trying to update the resource view bonobo ui while
	it was deactivated.

2004-04-15  Xavier Ordoquy  <xordoquy@wanadoo.fr>

	* src/planner-ttable-row.c: (ttable_row_event): Removed the
	MOTION_NOTIFY event for read-only view.

2004-04-15  Richard Hult  <richard@imendio.com>

	* src/planner-task-dialog.c: (task_dialog_task_removed_cb),
	(planner_task_dialog_new): Use connect_object and fix the callback
	signature, fixes bug #140208.

2004-04-15  Richard Hult  <richard@imendio.com>

	* data/glade/html-output.glade:
	* src/planner-html-plugin.c: (html_plugin_export): Hide the remote
	saving for now since it doesn't really work.

2004-04-15  Richard Hult  <richard@imendio.com>

	* configure.in: Disable dotnet by default.
	* src/planner-task-tree.c: (planner_task_tree_move_task_up),
	(planner_task_tree_move_task_down): Clean up a bit.

2004-04-15  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-assignment.c: (assignment_set_property):
	* libplanner/mrp-object.c: (mrp_object_set_property):
	* src/planner-task-dialog.c:
	(task_dialog_resource_units_cell_edited): Workaround for bug
	#138368, based on patch from Lincoln.

2004-04-15  Richard Hult  <richard@imendio.com>

	* src/planner-task-tree.c: (planner_task_tree_move_task_up),
	(planner_task_tree_move_task_down): Patch from Lincoln.

2004-04-15  Richard Hult  <richard@imendio.com>

	* src/planner-window.c (window_do_save_as): Fix build.

2004-04-14  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-project.c: (mrp_project_save_as):
	* src/planner-window.c: (window_do_save_as): Fix bug #139317,
	based on patch from Doroszlai Attila.
	
2004-04-09  Richard Hult  <richard@imendio.com>

	* src/planner-resource-dialog.c: (resource_dialog_name_changed_cb),
	(resource_dialog_short_name_changed_cb),
	(resource_dialog_resource_type_changed_cb),
	(resource_dialog_type_changed_cb),
	(resource_dialog_group_changed_cb),
	(resource_dialog_email_changed_cb),
	(resource_dialog_cost_changed_cb): Block on the correct user data,
	and handle non-numerical input better.

2004-04-08  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-model.c:
	(planner_gantt_model_get_path_from_task):
	* src/planner-task-tree.c: (planner_task_tree_remove_task),
	(planner_task_tree_move_task_up),
	(planner_task_tree_move_task_down),
	(planner_task_tree_set_anchor): Commit patch for bug #138595 from
	Lincoln Phipps. Also clean up task removal a bit and add anchor
	handling to Lincoln's patch.

2004-04-07  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-model.c
	(planner_gantt_model_get_path_from_task): Return NULL if the task
	is not in the tree. Gets rid of warning when removing tasks with
	the undo code.

2004-04-08  Adam Weinberger  <adamw@gnome.org>

	* configure.in: Added en_CA to ALL_LINGUAS.

2004-04-06  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-task-manager.c:
	* src/planner-gantt-chart.c:
	* src/planner-relation-arrow.c:
	* src/planner-task-dialog.c: (task_dialog_pred_cell_edited): Fix
	bug #129140, implement remaining task constraint types. Patch from
	Corey Schuhen.

2004-04-06  Richard Hult  <richard@imendio.com>

	* data/ui/gantt-view.ui:
	* data/ui/resource-view.ui:
	* data/ui/task-view.ui:
	* data/ui/time-table-view.ui: Add tooltips, patch from Setul
	Patel. Fixes bug #130937.

2004-04-06  Richard Hult  <richard@imendio.com>

	* data/dtd/mrproject-0.6.dtd:
	* data/glade/task-dialog.glade:
	* data/stylesheets/html1_css.xsl:
	* data/stylesheets/html1_tasks.xsl:
	* docs/sql/database-0.11.sql:
	* docs/sql/upgrade-0.6.x-0.11.sql:
	* libplanner/mrp-old-xml.c:
	* libplanner/mrp-parser.c:
	* libplanner/mrp-sql.c:
	* libplanner/mrp-task.c:
	* src/planner-task-dialog.c: Fix bug #137544, task priority
	spinner not effective. Patch from Lincoln Phipps.

2004-04-06  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-task-manager.c: (task_manager_do_backward_pass):
	Fix bug #137063, higlight critical tasks and sub-tasks. Patch from
	Doroszlai Attila. This also fixes bug #138437.

2004-04-06  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-row.c:
	* src/planner-task-tree.c:
	* src/planner-task-tree.h: Fix bug #132910, open task properties
	by double-clicking gantt bar and bug #132916, select task by
	clicking gantt bar. Patch from Chris Ladd.
	
2004-04-04 Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-task-tree.c: implemented task remove undo
	Currently recovers the task, the position in the tasks tree 
	the task relations and the resources assignments.

2004-03-29  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-old-xml.c (old_xml_read_assignment): Be more
	robust.

	* src/planner-gantt-row.c (gantt_row_event): Patch from Doroszlai
	Attila to fix popup position.

	* src/planner-gantt-model.c: (gantt_model_get_column_type),
	(gantt_model_get_value):
	* src/planner-gantt-model.h:
	* src/planner-gantt-view.c: (gantt_view_create_widget):
	* src/planner-task-tree.c: (task_tree_wbs_data_func),
	(task_tree_add_column):
	* src/planner-task-view.c: (get_widget): Clean up wbs patch,
	change id to wbs.

2004-03-27  Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-group-model.c:
	project object ref
	disconnect signals when destroying the model
	code cleaning in destroy function
	* src/planner-resource-view.c: cleaned unused variable
	* src/planner-resource-dialog.c: (resource_dialog_email_changed_cb)
	corrected string g_value (detected by Lincoln Phipps)
		
2004-03-26  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-print.c: (planner_gantt_print_do),
	(planner_gantt_print_data_new):
	* src/planner-table-print-sheet.c:
	(table_print_sheet_print_header_cell),
	(table_print_sheet_print_cell), (table_print_sheet_create_column),
	(table_print_sheet_foreach_row), (table_print_sheet_create_pages),
	(planner_table_print_sheet_new), (planner_table_print_sheet_free):
	Don't indent the first column, indent the one with the
	expander. Fixes printing with the WBS column.

2004-03-26  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-old-xml.c: (old_xml_read_resource): Fix bug
	#138145, read resource note, modified patch from Lincoln Phipps.

2004-03-26  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-model.c: (gantt_model_get_column_type),
	(gantt_model_get_value):
	* src/planner-gantt-model.h:
	* src/planner-gantt-view.c: (gantt_view_create_widget):
	* src/planner-task-tree.c: (task_tree_id_data_func),
	(task_tree_add_column), (planner_task_tree_new):
	* src/planner-task-tree.h:
	* src/planner-task-view.c: (get_widget): Add WBS column.

2004-03-24  Gareth Owen  <gowen72@yahoo.com>

	* configure.in: Added en_GB to ALL_LINGUAS

2004-03-22  Xavier Ordoquy  <xordoquy@wanadoo.fr>

	* src/planner-ttable-print.c: Removed the buggy resource usage
	view print.

	* src/planner-ttable-row.c: Disable the task move (doesn't respond
	to button press).

2004-03-18  Mikael Hallendal  <micke@imendio.com>

	* data/stylesheets/html1_css.xsl:
	* data/stylesheets/mrproject2html.xsl:
	- s/MrProject/Planner/g, solves #137571

2004-03-17  Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-group-dialog.c: Cleaned code commented.
	* src/planner-resource-dialog.c: Some support for undo stuff.
	We need to find how to undo keystroke dialogs entries.
	If the resource is removed, the dialog is closed.
	* src/planner-task-dialog.c: If task removed, close the dialog.

2004-03-16  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-print.c: Fix bug #134969, to fix printing
	problems with gantt chart. Patch from Heath Wilkinson again.
	
	* planner.spec.in (BuildRequires): Bring a bit more up to date.

	* configure.in: Up libxml and libxslt requirement, to fix bug
	#136752. Thanks to Jared Jones.

2004-03-15  Richard Hult  <richard@imendio.com>

	* data/glade/task-dialog.glade: Use better step/page sizes. Fixes
	bug #132342, idea by Lincoln Phipps.

	* src/planner-gantt-row.c: (gantt_row_event): Fix indentation and
	don't mix declarations and assignments.

2004-03-15  Richard Hult  <richard@imendio.com>

	* src/planner-task-tree.c (planner_task_tree_link_tasks): Hm, I
	could have sworn that this worked before. Reverse the list to get
	the right order when linking.

	* data/glade/add-predecessor.glade: Up the limits to very low/high
	numbers.

2004-03-15  Richard Hult  <richard@imendio.com>

	* docs/sql/README: Tweak the instructions.

	* Add short name for resources. Fixes bug #132345, based on patch
	from Lincoln Phipps. Also fix a few memory leaks while at it.
	
2004-03-15  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-print.c (planner_gantt_print_data_new): Patch
	from Heath Wilkinson to fix bug #137204.

	* src/Makefile.am:
	* src/planner-gantt-chart.c: (gantt_chart_insert_task),
	(planner_gantt_chart_get_view), (planner_gantt_chart_set_view),
	(planner_gantt_chart_get_highlight_critical_tasks):
	* src/planner-gantt-chart.h:
	* src/planner-gantt-row.c: (gantt_row_event),
	(planner_gantt_row_init_menu):
	* src/planner-gantt-row.h:
	* src/planner-gantt-view.c: (gantt_view_create_widget),
	(gantt_view_update_zoom_sensitivity):
	* src/planner-task-tree.c: (task_tree_init),
	(task_tree_tree_view_popup_menu): Commit patch from Chris Ladd
	<caladd@particlestorm.net> to fix bug #129149.

2004-03-13  Alexander Shopov  <ash@contact.bg>

	* configure.in: Added "bg" (Bulgarian) to ALL_LINGUAS

2004-03-10	Mohammad DAMT  <mdamt@bisnisweb.com>

	* configure.in: Added id (Indonesian) to ALL_LINGUAS.

2004-02-27  Richard Hult  <richard@imendio.com>

	* src/planner-ttable-view.c: (get_name): Implement so we don't get
	weird errors when trying to print.

2004-02-26  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-application.c: (imrp_application_id_set_data):
	* libplanner/mrp-application.h:
	* libplanner/mrp-private.h: Fix a few warnings.

	* src/planner-sql-plugin.c (sql_plugin_retrieve_db_values): Don't
	set NULL strings as gconf values.

2004-02-17  Alvaro del Castillo  <acs@barrapunto.com>
	
	* libplanner/mrp-project.c
	* libplanner/mrp-resource.c
	* libplanner/mrp-resource.h
	* libplanner/mrp-task.c
	* src/planner-assignment-model.c
	* src/planner-group-dialog.c
	* src/planner-resource-view.c
	Completed the undo/redo stuff for resources and groups
	except the resource dialog that needs some thoughts.
	Started the implementation of free methods in undo/redo commands.
	Cleaned the use of object ids for the moment.
	Cleaned the object clone methods.
	* src/planner-test-plugin.c: cleaned test output

2004-02-16  Richard Hult  <richard@imendio.com>

	* src/planner-gantt-view.c (init): Fix icon/stock names.

	* src/planner-ttable-view.c (get_menu_label, get_label): Use title
	style and fix clashing access keys.

2004-02-14  Richard Hult  <richard@imendio.com>

	* data/images/24_link_task.png:
	* data/images/Makefile.am:
	* data/ui/gantt-view.ui:
	* data/ui/task-view.ui:
	* src/planner-application.c:
	* src/planner-gantt-view.c:
	* src/planner-task-tree.c:
	* src/planner-task-view.c: Add menu item and toolbar button for
	Link tasks, patch from Lincoln Phipps.

2004-02-14  Richard Hult  <richard@imendio.com>

	* src/planner-window.c: (window_undo_state_changed_cb),
	(window_redo_state_changed_cb): Work around a bug, needs to be
	fixed later, see bug #134357.

	* autogen.sh: Check for gtkdocize and run it.

2004-02-10  Alvaro del Castillo  <acs@barrapunto.com>

	* libplanner/mrp-group.c 
	* src/planner-cmd-manager.c
	* src/planner-group-dialog.c
	Clean from a wrong commit

2004-02-10  Alvaro del Castillo  <acs@barrapunto.com>

	* po/es.po
	Use the same translation for manager (encargado) in all places
	* src/planner-group-dialog.c
	undo/redo for group default property
	implemented the free function for undo/redo commands

2004-02-08  Alvaro del Castillo  <acs@barrapunto.com>

	* libplanner/mrp-resource.c
	When a group is deleted the resource removes it if it is its group
	* src/planner-group-dialog.[ch]
	undo/redo work for adding, modifying and removing groups

2004-02-02  Alvaro del Castillo  <acs@barrapunto.com>

	* libplanner/mrp-resource.[ch]
	Added mrp_resource_clone method that returns a new cloned resource object
	* src/planner-resource-view.c
	Use mrp_resource_clone to store the object in the undo deletion command
	New internal function to convert a string into a GValue using resource
	properties

2004-02-01  Alvaro del Castillo  <acs@barrapunto.com>

	* libplanner/mrp-application.c
	* libplanner/mrp-application.h
	* libplanner/mrp-object.c
	* libplanner/mrp-private.h
	* libplanner/mrp-project.c
	final implementation for the new object id system
	* src/planner-resource-view.c
	first use of the new object id system

2004-01-30  Xavier Ordoquy  <xordoquy@wanadoo.fr>

	* configure.in: enables resource usage (timetable) by default.

2004-01-28  Alvaro del Castillo  <acs@barrapunto.com>

	* libplanner/mrp-application.[ch]
	new method to get the last uid associated with objects
	* libplanner/mrp-object.c
	get a new uid for new objects from mrp-application
	* libplanner/mrp-project.c
	clean the object uid code that is now in mrp-application
	* src/planner-resource-view.c
	first use of the new object id api

2004-01-28  Alvaro del Castillo  <acs@barrapunto.com>

	* src/configure.in
	libgda disabled by default

2004-01-28  Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-resource-view.c
	Solved a core dump when you remove a resource that is been edited
	inline.
	Added undo for the remove resource operation. Missing some properties
	in the undo yet, but we are going to start using object ids before
	going more far.

2004-01-28  Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-group-dialog.c
	* src/planner-group-model.c
	* src/planner-group-model.h
	When you add a new group, it is selected by default and the
	group name cell is in editing state.
	* src/planner-resource-view.c
	When you add a resource, the resource name cell is in editing state.

2004-01-28  Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-resource-view.c: Added undo for all resources properties.

2004-01-25  Richard Hult  <richard@imendio.com>

	* src/Makefile.am (sql_plugin): 
	* configure.in: Fix sql plugin flags.

	* src/planner-window.c (window_undo_state_changed_cb) 
	(window_redo_state_changed_cb): Set tooltip as well.

2004-01-25  Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-resource-view.c: Added undo for resource name property.
	Now it will be easy to add undo for all the other properties.
	* src/planner-task-tree.c: coding style corrections.

2004-01-25  Alvaro del Castillo  <acs@barrapunto.com>

	* src/planner-resource-view.c: Added undo for resource insertion.

2004-01-23  Xavier Ordoquy   <xordoquy@wanadoo.fr>

	* data/images/resources_usage.png:
	* data/images/Makefile.am:
	Created resource usage (timetable) icon

	* src/planner-ttable-view.c:
	Included the new icon and changed timetable name to resource usage.

2004-01-22  Xavier Ordoquy   <xordoquy@wanadoo.fr>

	* src/planner-ttable-model.c: resources are removed from the ttable.

2004-01-22  Xavier Ordoquy   <xordoquy@wanadoo.fr>

	* src/planner-ttable-row.c: fixed segfault when leaving planner.

2004-01-15  Alvaro del Castillo  <acs@barrapunto.com>

	* Big changes for the migration to libgda in the SQL backend 
	* configure.in: Added libgda test. In the next revision
	we have to clean the libpq test cause we won't use it.
	* docs/sql/README: we need a UNICODE database in Postgres
	* libplanner/mrp-sql.[ch]: migration from libpq to libgda
	* libplanner/Makefile.am: use libgda libraries 
	* libplanner/mrp-storage-sql.c: propagate GError also in project loading
	* src/Makefile.am: migration from libpq to libgda
	* src/planner-sql-plugin.c: migration from libpq to libgda

2004-01-14  Richard Hult  <richard@imendio.com>

	* Makefile.am: Build dotnet bindings conditionally.

	* configure.in: Simplify and bring back the mono checks.

2004-01-14  Anders Carlsson  <andersca@gnome.org>

	* dotnet/libplanner/libplanner.metadata: Add some return list types.

2004-01-06  Richard Hult  <richard@imendio.com>

	* configure.in: Require intltool 0.29, comment out dotnet for now.
	
	* Makefile.am: Remove the old intltool hack. 
	
2004-01-03  Anders Carlsson  <andersca@gnome.org>

	* configure.in:
	* dotnet/Makefile.am:
	* dotnet/libplanner/Makefile.am:
	* dotnet/libplanner/libplanner.metadata:
	* dotnet/samples/Example01.cs:
	* dotnet/samples/Example10.cs:
	* dotnet/samples/Makefile.am:
	* dotnet/sources/Makefile:
	* dotnet/sources/planner-sources.xml:
	Add .NET bindings for libplanner.
	
2003-12-16  Richard Hult  <richard@imendio.com>

	* src/planner-print-dialog.c:
	* src/planner-gantt-view.c:
	* src/planner-resource-view.c:
	* src/planner-task-view.c:
	* src/planner-view-loader.c:
	* src/planner-view.c:
	* src/planner-view.h: Add a name per view so we can build gconf
	keys for view preferences and use those to remember which views
	should be printed.

	* src/planner-sql-plugin.c: Fix indentation.

2003-12-16  Richard Hult  <richard@imendio.com>

	* src/planner-sql-plugin.c (sql_plugin_retrieve_db_values): Don't
	access the label that was removed.

2003-12-16  Christian Neumair  <chris@gnome-de.org>

	* data/glade/add-predecessor.glade:
	* data/glade/calendar-dialog.glade:
	* data/glade/group-dialog.glade:
	* data/glade/html-output.glade:
	* data/glade/new-property.glade:
	* data/glade/project-properties.glade:
	* data/glade/property-dialog.glade:
	* data/glade/resource-dialog.glade:
	* data/glade/resource-input-dialog.glade:
	* data/glade/sql.glade:
	* data/glade/task-dialog.glade:
	* data/glade/task-input-dialog.glade: Some HIGification/usability work.

2003-12-16  Richard Hult  <richard@imendio.com>

	* src/planner-task-tree.c:
	(task_tree_add_column): Set userdata. Fixes printing.

2003-12-16  Richard Hult  <richard@imendio.com>

	* src/planner-window.c: 
	* src/planner-project-properties.c:
	* src/planner-task-tree.c:
	* src/planner-cmd-manager.c: More undo work.
	
	* data/ui/task-view.ui:
	* src/planner-task-view.c:
	* src/planner-gantt-view.c: Add critical task highlighting for the
	task view.

2003-12-15  Richard Hult  <richard@imendio.com>

	* src/planner-cmd-manager.c (planner_cmd_manager_insert_and_do):
	Trim the history if it's too long.

	* src/planner-html-plugin.c (html_plugin_ok_button_clicked): Fix
	bug #129375.

	* src/planner-cmd-manager.c: More work.

	* src/planner-task-tree.c: (task_cmd_insert_do),
	(task_cmd_insert),
	(planner_task_tree_insert_task): 
	(planner_task_tree_insert_subtask): Start editing for newly
	inserted tasks.
	
	* src/planner-window.c: (window_finalize): Unref the cmd manager.

2003-12-14  Richard Hult  <richard@imendio.com>

	* configure.in:
	* docs/libplanner/Makefile.am: Clean up flags even more, and fix
	bug #129321.

2003-12-14  Richard Hult  <richard@imendio.com>

	* libplanner/mrp-object.[ch]
	* libplanner/mrp-private.h:
	* libplanner/mrp-project.c: Work in progress.

2003-12-14  Cédric Delfosse <cdelfosse@free.fr>

	* src/planner-print-dialog.c:
	(load_planner_print_config_from_file),
	(save_planner_print_config_to_file):
	* src/planner-window.c: (window_print_cb): Remember print
	settings.

2003-12-13  Richard Hult  <richard@imendio.com>

	* .cvsignore:
	* data/glade/.cvsignore:
	* docs/libplanner/libplanner-sections.txt:
	* docs/libplanner/tmpl/libplanner-unused.sgml:
	* docs/libplanner/tmpl/mrp-error.sgml: Clean up.
	
	* src/planner-project-properties.c: (property_cmd_edit),
	(mpp_connect_to_project), (mpp_phase_option_menu_changed_cb),
	(mpp_phase_set_from_widget), (mpp_project_phase_notify_cb),
	(mpp_setup_phases), (mpp_property_added), (mpp_dialog_destroy_cb):
	More undo hacking.

2003-12-12  Xavier Ordoquy <xordoquy@wanadoo.fr>

	* src/planner-ttable-model.h: typo

	* src/planner-ttable-tree.c:
	* src/planner-ttable-tree.h:
	* src/planner-ttable-view.c:
	PlannerMainWindow has been renamed PlannerWindow.

2003-12-12  Xavier Ordoquy <xordoquy@wanadoo.fr>

	* data/ui/Makefile.am:
	* src/Makefile.am:
	Added the files needed by time table when configured with.

	* src/planner-ttable-chart.c:
	* src/planner-ttable-chart.h:
	* src/planner-ttable-model.c:
	* src/planner-ttable-model.h:
	* src/planner-ttable-print.c:
	* src/planner-ttable-print.h:
	* src/planner-ttable-row.c:
	* src/planner-ttable-row.h:
	* src/planner-ttable-tree.c:
	* src/planner-ttable-tree.h:
	* src/planner-ttable-view.c:
	Added copyrights, remove C++ comments and debugging output
	try to start cleaning up the code.

2003-12-12  Richard Hult  <richard@imendio.com>

	* data/glade/project-properties.glade:
	* src/planner-project-properties.c: Undo for most of the stuff,
	and get rid of the sucky gnome-date-edit widget. Don't perform
	changes on "changed", do it on focus out instead.

	* libplanner/mrp-property.c: Fix comment.

	* data/glade/project-properties.glade:
	* src/planner-project-properties.c: Close the calendar selector
	window. Tweak a bit, fix a few UI inconsistencies, remove dialog
	separators.

2003-12-11  Richard Hult  <richard@imendio.com>

	* src/planner-task-tree.c (task_tree_duration_edited) 
	(task_tree_work_edited): Undo support.

	* data/glade/calendar-dialog.glade: Remove unnecessary string.
	
	* libplanner/mrp-project.c: (project_do_save),
	(project_load_from_sql): Update strings.
	
	* src/planner-marshal.list:
	* src/planner-cmd-manager.c: 
	* src/planner-window.c: (window_undo_state_changed_cb),
	(window_redo_state_changed_cb): Set the labels for undo/redo to
	a string including the name of the command.

	* src/planner-task-tree.c: (task_cmd_insert),
	(task_cmd_edit_property), (planner_task_tree_insert_subtask),
	(planner_task_tree_insert_task): Implement undo for insert
	subtask.

2003-12-11  Richard Hult  <richard@imendio.com>

	* Makefile.am: Fix distcheck.
	* libplanner/mrp-xsl.c: (html_write): Tweak.
	* src/planner-html-plugin.c:
	(html_output_plugin_ok_button_clicked): Close the dialog when
	we're done.

2003-12-11  Richard Hult  <richard@imendio.com>

	* configure.in: Add gnome-vfs.
	* data/glade/html-output.glade:
	* data/ui/main-window.ui:
	* src/planner-html-plugin.c:

	* libplanner/mrp-error.h:
	* libplanner/mrp-xsl.c: Start to implement the "save to location
	feature". Based on patch from Bernardo Silveira.
	
	* src/planner-cmd-manager.[ch]:
	* src/planner-window.c:
	* src/planner-task-tree.c: Start implementing undo/redo.

	* src/: s/mg/planner/

2003-12-09  Richard Hult  <richard@imendio.com>

	* src/planner-application.c (application_init): Lower the limit on
	the number of recent files to keep the menu down a bit.

	* data/ui/main-window.ui: Use correct stock name for print
	preview.

	* Makefile.am: Update for new intltool.

	* src/planner-main-window.c: (get_last_dir), (main_window_open_cb),
	(main_window_do_save_as): Patch from Bernardo Silveira to remember
	the last used dir.

2003-12-08  Xavier Ordoquy <xordoquy@wanadoo.fr>

	* libplanner/Makefile.am: removed a tab.

2003-12-08  Richard Hult  <richard@imendio.com>

	* Makefile.am:
	* sql/Makefile.am:
	* configure.in: Add sql dir with the sql stuff.

2003-12-08  Richard Hult  <richard@imendio.com>

	* configure.in: Add gconf.

	* data/ui/main-window.ui: Fix a string.

	* libplanner/Makefile.am: Remove obsolete comment.
	
	* src/Makefile.am: Link postgres plugin with the pg libs.
	
	* src/planner-application.c:
	(planner_application_get_gconf_client):
	* src/planner-application.h: Add.

	* src/planner-sql-plugin.c: (sql_plugin_retrieve_db_values):
	Store/get values in gconf. Loosely based on patch from Bernardo
	Silveira.

2003-12-08  Richard Hult  <richard@imendio.com>

	* configure.in: Remove --with-html-dir, since gtk-doc.makefile
	handles that. Gets rid of duplicate --with-html-dir options.
	Add commented python checks, need to add this back.	

2003-12-04  Christian Neumair  <chris@gnome-de.org>

	* Makefile.am, po-libplanner/*:
	Kill po-libplanner. All translations now live in po.

	* configure.in:
	Ditto. Plus add Estonian (et), Mongolian (mn) and Kannada (kn) to
	ALL_LINGUAS.

2003-12-02  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* Makefile.am:
	Don't remove intltool-* on make clean, they are 
	generated at configure time.

	* src/Makefile.am:
	Fix parallel build.

2003-12-02  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* autogen.sh:
	Add support for GNOME2_DIR variable.

	* libplanner-1.pc.in:
	Use correct name for linking.

	* libplanner/Makefile.am:
	Fix library version.

2003-12-02  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* libplanner/Makefile.am:
	* src/Makefile.am:
	Fix Postgresql compilation (add missing cflags).

2003-12-01  Richard Hult  <richard@imendio.com>

	* Release 0.11.

	* src/planner-task-tree.c (task_tree_parse_time_string): Fix
	invalid read and...
	(task_tree_get_unit_from_string): ...move i18n initialization
	here.

	* configure.in: Sync translations.

2003-12-01  Ryszard Klos <ryszardklos@netscape.net>

	* data/stylesheets: Fix the width of the exported html.

2003-11-30  Richard Hult  <richard@imendio.com>

	* data/ui/main-window.ui: Set delimit to none, to avoid an ugly
	separator at the top.

	* src/planner-resource-view.c (resource_view_insert_resource_cb):
	Focus the newly inserted resource, just like for the task/gantt
	views.

	* libplanner/mrp-task.c (task_remove_assignments): Copy the list
	before removing from it, and null out the assignment list it's
	removed.

2003-11-14  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* planner/mrp-time.c: (imrp_time_init): Make sure we use UTF-8
	strings, not locale encoded one for month and day names.

